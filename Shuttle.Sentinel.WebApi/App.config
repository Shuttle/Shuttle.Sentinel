<?xml version="1.0" encoding="utf-8"?>

<configuration>
  <configSections>
    <section name="subscription" type="Shuttle.Esb.Sql.Subscription.SubscriptionSection, Shuttle.Esb.Sql.Subscription" />
    <section name="serviceBus" type="Shuttle.Esb.ServiceBusSection, Shuttle.Esb" />
    <section name="accessClient" type="Shuttle.Access.RestClient.AccessClientSection, Shuttle.Access.RestClient" />
  </configSections>

  <appSettings>
    <add key="azure" value="UseDevelopmentStorage=true" />
    <add key="oauth-credentials-path" value="D:\development.github\eben-roux\credentials\oauth-sentinel.json"/>
    <add key="siteUrl" value="http://localhost:8080/"/>
  </appSettings>

  <subscription connectionStringName="Sentinel" />

  <accessClient
    url="http://localhost:5599/"
    identityName="system://sentinel"
    password="sentinel" />

  <serviceBus>
    <queueFactories scan="false">
      <add type="Shuttle.Esb.AzureMQ.AzureStorageQueueFactory, Shuttle.Esb.AzureMQ" />
    </queueFactories>

    <messageRoutes>
      <messageRoute uri="azuremq://azure/sentinel-server-inbox-work">
        <add specification="StartsWith" value="Shuttle.Sentinel.Messages" />
      </messageRoute>
      <messageRoute uri="azuremq://azure/scheduling-server-work">
        <add specification="StartsWith" value="Shuttle.Esb.Scheduling.Messages" />
      </messageRoute>
    </messageRoutes>
  </serviceBus>

  <connectionStrings>
    <clear />
    <add name="Sentinel" providerName="Microsoft.Data.SqlClient"
         connectionString="Data Source=.;Initial Catalog=Sentinel;user id=sa;password=Pass!000;TrustServerCertificate=true" />
    <add name="Access" providerName="Microsoft.Data.SqlClient"
         connectionString="Data Source=.;Initial Catalog=Access;user id=sa;password=Pass!000;TrustServerCertificate=true" />
  </connectionStrings>
</configuration>